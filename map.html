<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <title>Lineage Classic - 지도 가이드</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .map-container { display: flex; gap: 2rem; }
    .map-nav { width: 220px; flex-shrink: 0; display: flex; flex-direction: column; gap: 0.5rem; }
    .map-nav-group { font-size:0.85rem; color:var(--text-dim); margin: 1rem 0 0.3rem 0.5rem; text-transform: uppercase; letter-spacing: 1px; }
    .map-nav button { padding: 0.8rem 1rem; border-radius: 8px; background: var(--bg-card); border: 1px solid var(--border); color: var(--text-dim); text-align: left; cursor: pointer; transition: all 0.2s; font-weight: 700; display: flex; align-items: center; gap: 0.8rem; font-size: 0.9rem; }
    .map-nav button:hover, .map-nav button.active { background: var(--gold-gradient); color: #000; border-color: transparent; }
    
    .map-content { flex-grow: 1; display: grid; grid-template-columns: 1fr; gap: 2rem; }
    
    .map-header { background: var(--bg-card); padding: 2rem; border-radius: 12px; border: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background-size: cover; background-position: center; position: relative; overflow: hidden; height: 250px; }
    .map-header::before { content: ''; position: absolute; inset: 0; background: linear-gradient(to right, #000 40%, transparent); z-index: 1; }
    .map-title { position: relative; z-index: 2; max-width: 65%; }
    .map-title h2 { font-family: 'Cinzel', serif; font-size: 2.2rem; color: var(--primary); margin-bottom: 0.5rem; }
    .map-title p { font-size: 1rem; color: #ccc; line-height: 1.5; }

    .info-section { background: var(--bg-card); padding: 2rem; border-radius: 12px; border: 1px solid var(--border); }
    .info-section h3 { color: #fff; border-bottom: 1px solid var(--border); padding-bottom: 1rem; margin-bottom: 1.5rem; font-size: 1.3rem; }
    
    .data-table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    .data-table th { text-align: left; color: var(--text-dim); padding: 0.8rem; border-bottom: 1px solid var(--border); font-size: 0.85rem; }
    .data-table td { padding: 0.9rem 0.8rem; border-bottom: 1px solid rgba(255,255,255,0.05); color: #eee; font-size: 0.9rem; }
    .data-table tr:last-child td { border-bottom: none; }
    
    .drop-item { display: inline-block; background: rgba(0,0,0,0.3); padding: 3px 8px; border-radius: 4px; margin: 2px; font-size: 0.8rem; border: 1px solid #333; }
    .boss-badge { background: #8b0000; color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; margin-right: 5px; }
  </style>
</head>
<body>
  <div class="app-container">
    <header class="main-header">
      <a href="index.html" class="logo-link">
        <i data-lucide="shield-check" size="48" style="color: var(--primary);"></i>
        <div class="logo-text">
          <span class="line1">LINEAGE CLASSIC</span>
          <span class="line2">WORLD MAP</span>
        </div>
      </a>
      <nav class="nav-menu">
        <a href="index.html" class="nav-item"><i data-lucide="book-open"></i><span>사전</span></a>
        <a href="quests.html" class="nav-item"><i data-lucide="scroll"></i><span>퀘스트</span></a>
        <a href="map.html" class="nav-item active"><i data-lucide="map"></i><span>지도</span></a>
        <a href="simulation.html" class="nav-item"><i data-lucide="flask-conical"></i><span>모의실험</span></a>
      </nav>
    </header>

    <div class="map-container">
      <nav class="map-nav">
        <div class="map-nav-group">주요 마을</div>
        <button class="active" onclick="renderMap('talking_island')"><i data-lucide="home"></i> 말하는 섬</button>
        <button onclick="renderMap('gludin')"><i data-lucide="home"></i> 글루딘 마을</button>
        <button onclick="renderMap('kent')"><i data-lucide="home"></i> 켄트 마을</button>
        <button onclick="renderMap('giran')"><i data-lucide="home"></i> 기란 마을</button>
        <button onclick="renderMap('silver')"><i data-lucide="home"></i> 은기사 마을</button>
        <button onclick="renderMap('woodbeck')"><i data-lucide="home"></i> 우드벡 마을</button>
        <button onclick="renderMap('hwajeonmin')"><i data-lucide="home"></i> 화전민 마을</button>
        <button onclick="renderMap('fairy')"><i data-lucide="tree-pine"></i> 요정 숲</button>
        
        <div class="map-nav-group">주요 사냥터</div>
        <button onclick="renderMap('field_talking')"><i data-lucide="mountain"></i> 말하는 섬 필드</button>
        <button onclick="renderMap('field_gludio')"><i data-lucide="mountain"></i> 글루디오 필드</button>
        <button onclick="renderMap('field_fairy')"><i data-lucide="mountain"></i> 요정 숲 필드</button>
        <button onclick="renderMap('field_wind')"><i data-lucide="mountain"></i> 윈다우드 필드</button>
        <button onclick="renderMap('field_silver')"><i data-lucide="mountain"></i> 은기사 지역 필드</button>
        <button onclick="renderMap('dragon')"><i data-lucide="mountain"></i> 용의 계곡</button>
        
        <div class="map-nav-group">주요 던전</div>
        <button onclick="renderMap('gludio_dungeon')"><i data-lucide="skull"></i> 글루디오 던전</button>
        <button onclick="renderMap('ant_cave')"><i data-lucide="skull"></i> 개미굴</button>
      </nav>

      <main id="map-detail" class="map-content">
        <!-- Content loaded via JS -->
      </main>
    </div>
  </div>

  <script>
    const MAP_DB = {
      talking_island: {
        title: "말하는 섬 (Talking Island)",
        desc: "모험가들이 처음 태어나는 곳입니다. 기초 교육 교관을 통해 전투의 기본을 배울 수 있습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_talkingisland.jpg",
        town_img: "image/town_talkingisland.png",
        npcs: [
          { name: "판도라", role: "잡화 상인", loc: "선착장 부근" },
          { name: "건", role: "군주 퀘스트 NPC", loc: "마을 중앙" },
          { name: "제이", role: "마법사 퀘스트 NPC", loc: "마을 동쪽" }
        ],
        monsters: []
      },
      gludin: {
        title: "글루딘 마을 (Gludin)",
        desc: "본토와 섬을 잇는 거대 항구 도시입니다. 슬라임 경기와 낚시터 등 다양한 즐길거리가 있습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_gludin.jpg",
        town_img: "image/town_gludin.png",
        npcs: [
          { name: "룻", role: "잡화 상인", loc: "마을 입구" },
          { name: "로로", role: "스탯 초기화 NPC", loc: "마을 동쪽" },
          { name: "피스", role: "선착장 관리인", loc: "항구" }
        ],
        monsters: []
      },
      kent: {
        title: "켄트 마을 (Kent)",
        desc: "켄트 성 아래 형성된 마을로 정석적인 판타지 풍경을 자아냅니다. 오우거 사냥의 거점이기도 합니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_kent.jpg",
        town_img: "image/town_kent.png",
        npcs: [
          { name: "이소리야", role: "잡화 및 마법상인", loc: "성 입구 근처" },
          { name: "제라드", role: "창고지기", loc: "마을 중심" }
        ],
        monsters: []
      },
      woodbeck: {
        title: "우드벡 마을 (Wudbeck)",
        desc: "윈다우드 사막의 관문입니다. 개미굴 사냥을 준비하는 모험가들이 거쳐가는 뜨거운 모래의 마을입니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_woodbeck.jpg",
        town_img: "image/town_wudbeck.png",
        npcs: [
          { name: "엘미나", role: "잡화 상인", loc: "마을 입구" },
          { name: "아리아", role: "군주 30레벨 퀘스트 NPC", loc: "마을 서쪽" }
        ],
        monsters: []
      },
      hwajeonmin: {
        title: "화전민 마을 (Hwajeonmin)",
        desc: "척박한 오크 숲 인근에 형성된 무법자들의 마을입니다. 카오틱 유저들이 주로 이용하는 거점입니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_hwajeonmin.jpg",
        town_img: "image/town_hwajeonmin.png",
        npcs: [
          { name: "잭슨", role: "잡화 상인", loc: "마을 입구" },
          { name: "라이라", role: "토템 교환 NPC", loc: "마을 중앙" }
        ],
        monsters: []
      },
      fairy: {
        title: "요정 숲 (Fairy Forest)",
        desc: "요정 클래스 전용 시작 지역입니다. 인간의 출입을 경계하며 자연 친화적인 독특한 장비를 제작할 수 있습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_fairyforest.jpg",
        town_img: "image/town_fairy.png",
        npcs: [
          { name: "엘핀", role: "요정 잡화 상인", loc: "엄마나무 아래" },
          { name: "네루파", role: "요정 퀘스트 및 제작 NPC", loc: "나무 쉼터" }
        ],
        monsters: []
      },
      giran: {
        title: "기란 마을 (Giran)",
        desc: "아덴 대륙 경제의 심장입니다. 시장에서 모든 아이템의 거래가 이루어지며 혈맹들의 거점인 아지트가 많습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_giran.jpg",
        town_img: "image/town_giran.png",
        npcs: [
          { name: "베리", role: "잡화 상인", loc: "시장 입구" },
          { name: "바라", role: "마법 주문서 상인", loc: "상점가" }
        ],
        monsters: []
      },
      silver: {
        title: "은기사 마을 (Silver Knight)",
        desc: "기사들의 성지입니다. 수련장에서 기사 퀘스트를 수행하며 강력한 용사로 성장합니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/town_silverknight.jpg",
        town_img: "image/town_silverknight.png",
        npcs: [
          { name: "리키", role: "기사 퀘스트 NPC", loc: "수련장" },
          { name: "모리아", role: "잡화 상인", loc: "마을 서쪽" }
        ],
        monsters: []
      },
      field_talking: {
        title: "말하는 섬 필드",
        desc: "초보 모험가들을 위한 사냥터입니다. 고블린, 오크 등이 출현하며 안전하게 성장할 수 있습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_talkingisland.jpg",
        town_img: "image/field_talkingisland.png",
        npcs: [],
        monsters: [
          { name: "고블린", level: 2, drop: "빨간 물약, 아데나" },
          { name: "오크", level: 3, drop: "오크족 단검, 아데나" },
          { name: "코볼트", level: 3, drop: "짧은 부츠, 아데나" }
        ]
      },
      field_gludio: {
        title: "글루디오 필드",
        desc: "본토 사냥의 시작점입니다. 언데드 몬스터들이 많이 출몰하여 은 무기를 사용하기 좋습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_gludio.jpg",
        town_img: "image/field_gludin.png",
        npcs: [],
        monsters: [
          { name: "늑대인간", level: 12, drop: "초록 물약, 마법서" },
          { name: "해골", level: 12, drop: "철괴, 아데나" },
          { name: "오크 마법사", level: 12, drop: "마법서(그레이터 힐)" }
        ]
      },
      field_fairy: {
        title: "요정 숲 필드",
        desc: "요정들을 위한 풍요로운 숲입니다. 제작 재료를 모으기에 최적의 장소입니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_fairyforest.jpg",
        town_img: "image/field_fairy.png",
        npcs: [],
        monsters: [
          { name: "엔트", level: 20, drop: "엔트의 줄기, 껍질" },
          { name: "판", level: 20, drop: "판의 뿔" },
          { name: "가스트", level: 28, drop: "가스트의 손톱" }
        ]
      },
      field_wind: {
        title: "윈다우드 필드",
        desc: "광활한 사막 지대입니다. 모래 속에 숨은 위험한 생물들이 모험가를 위협합니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_windawood.jpg",
        town_img: "image/field_windawood.png",
        npcs: [],
        monsters: [
          { name: "바실리스크", level: 32, drop: "바실리스크의 뿔" },
          { name: "하피", level: 26, drop: "마법서(헤이스트)" },
          { name: "샌드 웜", level: 60, drop: "영웅급 장비", boss: true }
        ]
      },
      field_silver: {
        title: "은기사 지역 필드",
        desc: "황무지와 바위가 가득한 척박한 지역입니다. 강력한 오크 전사들이 서식합니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_silverknight.jpg",
        town_img: "image/field_silverknight.png",
        npcs: [],
        monsters: [
          { name: "오크 전사", level: 15, drop: "오크족 창" },
          { name: "버그베어", level: 24, drop: "갑옷 마법 주문서" }
        ]
      },
      dragon: {
        title: "용의 계곡 (Dragon Valley)",
        desc: "드레이크와 언데드가 출몰하는 최고 난이도의 사냥터입니다. 희귀한 주문서와 재료를 얻을 수 있습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_dragonvalley.jpg",
        town_img: "image/field_dragon.png",
        npcs: [],
        monsters: [
          { name: "드레이크", level: 50, drop: "용의 비늘, 희귀 주문서", boss: true },
          { name: "코카트리스", level: 38, drop: "보석류" },
          { name: "오우거", level: 40, drop: "오우거의 벨트" }
        ]
      },
      orc: {
        title: "오크 숲 (Orc Forest)",
        desc: "부족별 오크들이 영역 싸움을 벌이는 숲입니다. 토템 퀘스트를 통한 아데나 파밍의 명소입니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/field_orcforest.jpg",
        npcs: [],
        monsters: [
          { name: "네루가 오크", level: 20, drop: "네루가 오크 토템" },
          { name: "아투바 오크", level: 24, drop: "아투바 오크 토템" }
        ]
      },
      gludio_dungeon: {
        title: "글루디오 던전 (Main Dungeon)",
        desc: "7층 규모의 거대 지하 미로. 최하층에는 전설적인 보스 데스나이트가 군림합니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/dungeon_gludio.jpg",
        npcs: [{ name: "오림", role: "비밀 상인", loc: "7층" }],
        monsters: [
          { name: "데스나이트", level: 52, drop: "데스나이트의 불검", boss: true },
          { name: "버그베어", level: 26, drop: "갑옷 마법 주문서" }
        ]
      },
      ant_cave: {
        title: "개미굴 (Ant Cave)",
        desc: "윈다우드 지하의 여왕 개미가 지배하는 개미 왕국입니다. 보석과 주문서 파밍에 좋습니다.",
        bg: "https://static.plaync.com/ingame/lineageclassic/guide/img/dungeon_antcave.jpg",
        npcs: [],
        monsters: [
          { name: "여왕 개미", level: 45, drop: "고대의 주문서", boss: true },
          { name: "거대 병정 개미", level: 32, drop: "보석류" }
        ]
      }
    };

    function renderMap(key) {
      const data = MAP_DB[key];
      const html = `
        <div class="map-header" style="background-image: url('${data.bg}'), url('https://assets.playnccdn.com/common/lineageclassic.png');">
          <div class="map-title">
            <h2>${data.title}</h2>
            <p>${data.desc}</p>
          </div>
        </div>

        ${data.town_img ? `<div style="margin-bottom: 2rem; border-radius: 12px; overflow: hidden; border: 1px solid var(--border);">
          <img src="${data.town_img}" style="width: 100%; height: auto; display: block;" onerror="this.style.display='none'">
        </div>` : ''}

        <div class="info-section">
          <h3><i data-lucide="map-pin"></i> 주요 정보</h3>
          ${data.npcs && data.npcs.length > 0 ? `
            <h4 style="color:var(--primary); margin-top:1rem; font-size:1.1rem;">주요 NPC</h4>
            <table class="data-table">
              <thead><tr><th width="30%">이름</th><th width="40%">역할</th><th>위치</th></tr></thead>
              <tbody>
                ${data.npcs.map(npc => `<tr><td><strong>${npc.name}</strong></td><td>${npc.role}</td><td>${npc.loc}</td></tr>`).join('')}
              </tbody>
            </table>
          ` : ''}

          ${data.monsters && data.monsters.length > 0 ? `
            <h4 style="color:var(--primary); margin-top:2rem; font-size:1.1rem;">출현 몬스터</h4>
            <table class="data-table">
              <thead><tr><th width="30%">이름 (레벨)</th><th>주요 드롭 아이템</th></tr></thead>
              <tbody>
                ${data.monsters.map(m => `
                  <tr>
                    <td>${m.boss ? '<span class="boss-badge">BOSS</span>' : ''} <strong>${m.name}</strong> <span style="color:#888;">(Lv.${m.level})</span></td>
                    <td>
                      ${m.drop.split(',').map(item => `<span class="drop-item">${item.trim()}</span>`).join('')}
                    </td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          ` : '<p style="color:#666; padding:1.5rem; background:rgba(0,0,0,0.1); border-radius:8px; margin-top:1rem;">이 지역에는 적대적인 몬스터가 출현하지 않거나 정보가 준비 중입니다.</p>'}
        </div>
      `;
      
      document.getElementById('map-detail').innerHTML = html;
      
      document.querySelectorAll('.map-nav button').forEach(btn => btn.classList.remove('active'));
      const buttons = document.querySelectorAll('.map-nav button');
      for (let btn of buttons) {
        if (btn.getAttribute('onclick').includes(key)) {
          btn.classList.add('active');
          break;
        }
      }
      
      lucide.createIcons();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.onload = () => {
      renderMap('talking_island');
      lucide.createIcons();
    };
  </script>
</body>
</html>